<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      name="description"
      content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5"
    />
    <meta name="author" content="AdminKit" />
    <meta
      name="keywords"
      content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web"
    />

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="shortcut icon" href="img/icons/icon-48x48.png" />

    <link rel="canonical" href="https://demo-basic.adminkit.io/" />

    <title>Admin Panel</title>

    <link href="/css/admin-css/app.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    
  </head>
</html>

<body>
  <div class="wrapper">
    <nav id="sidebar" class="sidebar js-sidebar">
      <div class="sidebar-content js-simplebar">
        <a class="sidebar-brand" href="/admin">
          <span class="align-middle">Admin Panel</span>
        </a>

        <ul class="sidebar-nav">
          <!-- <li class="sidebar-header">Pages</li> -->

          <li class="sidebar-item">
            <a class="sidebar-link" href="/admin">
              <i class="align-middle" data-feather="monitor"></i>
              <span class="align-middle">Dashboard</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="/admin/products">
              <i class="align-middle" data-feather="shopping-bag"></i>
              <span class="align-middle">Products</span>
            </a>
          </li>

          <li class="sidebar-item active">
            <a class="sidebar-link" href="/admin/categoryView">
              <i class="align-middle" data-feather="layers"></i>
              <span class="align-middle">Category</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" href="/admin/user">
              <i class="align-middle" data-feather="users"></i>
              <span class="align-middle">Users</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="/admin/orderStatus">
              <i class="align-middle" data-feather="package"></i>
              <span class="align-middle">Order Status</span>
            </a>
          </li>

          <li class="sidebar-item">
            <a class="sidebar-link" href="/admin/coupons">
              <i class="align-middle" data-feather="command"></i>
              <span class="align-middle">Coupons</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" href="/admin/banner">
              <i class="align-middle" data-feather="bookmark"></i>
              <span class="align-middle">Banner</span>
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="main">
      <nav class="navbar navbar-expand navbar-light navbar-bg">
        <a class="sidebar-toggle js-sidebar-toggle">
          <i class="hamburger align-self-center"></i>
        </a>

        <div class="navbar-collapse collapse">
          <ul class="navbar-nav navbar-align">
            <li class="nav-item dropdown">
              <a
                class="nav-icon dropdown-toggle d-inline-block d-sm-none"
                href="#"
                data-bs-toggle="dropdown"
              >
                <i class="align-middle" data-feather="settings"></i>
              </a>

              <a
                class="nav-link dropdown-toggle d-none d-sm-inline-block"
                href="#"
                data-bs-toggle="dropdown"
              >
                <img
                  src="/images/login-images/avatar.jpg"
                  class="avatar img-fluid rounded me-1"
                  alt="Charles Hall"
                />
                <span class="text-dark">Admin</span>
              </a>
              <div class="dropdown-menu dropdown-menu-end">
                <a class="dropdown-item" href="pages-profile.html"
                  ><i class="align-middle me-1" data-feather="user"></i>
                  Profile</a
                >
                <a class="dropdown-item" href="#"
                  ><i class="align-middle me-1" data-feather="pie-chart"></i>
                  Analytics</a
                >
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="index.html"
                  ><i class="align-middle me-1" data-feather="settings"></i>
                  Settings & Privacy</a
                >
                <a class="dropdown-item" href="#"
                  ><i class="align-middle me-1" data-feather="help-circle"></i>
                  Help Center</a
                >
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Log out</a>
              </div>
            </li>
          </ul>
        </div>
      </nav>

      <main class="content">
        <!-- <body class="rafcolour"> -->

          <div class="mainheading"></div>
          <div class="main-div">
            <form id="category-form" action="/admin/editCategory/<%=editCategory._id %>" method="post">
              <div class="category">
                <h1 class="categoryname" style="font-family: Arial, Helvetica, sans-serif;">Edit Category</h1><br>
                <select name="categorytype" id="categorytype" class="selectcategory" style="height: 30px;width: 100px;">
                  <option value="<%=editCategory.categoryname %>" selected><%=editCategory.categoryname %></option>
                  <option value="Color">Color</option>
                  <option value="Pattern">Pattern</option>
                  <option value="productType">Product Type</option>
                  <option value="productCategory">Product Category</option>
                </select>
                <br><br>
                <input
                  type="text"
                  class="form-control"
                  name="categoryvalue"
                  id="categoryvalue"
                 value="<%= editCategory.values  %>"
                />
                <button type="submit" class="submitbutton" style="height: 35px;width: 120px;background-color: rgb(60, 179, 219);border-radius: 5px; border: none;">Save Changes</button>
              </div>
              <% if(locals.categoryout) { %>
              <div class="alert alert-danger mt-2" role="alert" style="width: '87%'">
                <%=categoryout %>
              </div>
              <% } %>
            </form>
          </div>
        </body>
        
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
        <script>
          $(document).ready(function () {
            $.validator.addMethod(
              "noSpecialChars",
              function (value, element) {
                return this.optional(element) || /^(?!\s)[a-zA-Z ]+$/.test(value);
              },
              "Special characters and spaces are not allowed"
            );
            $("#category-form").validate({
              rules: {
                categoryvalue: {
                  required: true,
                  minlength: 2,
                  noSpecialChars: true,
                },
              },
              messages: {
                categoryvalue: {
                  required: "Please enter the Category",
                  minlength: "category name must be at least 2 characters long",
                  noSpecialChars: "Special characters and spaces are not allowed",
                },
              },
              highlight: function (element) {
                $(element).closest(".form-control").addClass("is-invalid");
              },
              unhighlight: function (element) {
                $(element).closest(".form-control").removeClass("is-invalid");
              },
              errorElement: "div",
              errorClass: "invalid-feedback",
              errorPlacement: function (error, element) {
                if (element.parent(".input-group").length) {
                  error.insertAfter(element.parent());
                } else {
                  error.insertAfter(element);
                }
              },
            });
          });
        </script>
      </main>
    </div>
  </div>
</body>
